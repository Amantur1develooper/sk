{% load static %}
{% load i18n %}
<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">

<head>
    <meta charset="UTF-8">
      
  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'logo.png' %}">
  <link rel="icon" type="image/png" sizes="16x16" href="{% static 'logo.png' %}">
  <link rel="apple-touch-icon" href="{% static 'logo.png' %}">
  <link rel="shortcut icon" href="{% static 'logo.png' %}">
    <title>–≠–ª –ù–∞—Å–∏–ø ‚Äì {% block title %}{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<style>        /* Splash-—ç–∫—Ä–∞–Ω —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º */

    .eln-splash-word{
    font-weight: 900;
    letter-spacing: .14em;
    text-transform: uppercase;
    font-size: clamp(44px, 8vw, 92px);
    line-height: 1.05;
    background: var(--elnasip-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow: 0 10px 40px rgba(255,122,0,0.15);
}

.eln-splash-sub{
    margin-top: 10px;
    font-size: clamp(12px, 2.2vw, 14px);
    color: rgba(229,231,235,0.85);
    letter-spacing: .18em;
    text-transform: uppercase;
}

.eln-splash-mini-logo{
    width: 90px;
    opacity: 0.9;
    filter: drop-shadow(0 10px 22px rgba(0,0,0,0.4));
}

        .eln-splash {
            position: fixed;
            inset: 0;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity .4s ease-out, visibility .4s ease-out;
        }
        .eln-splash.hidden {
            opacity: 0;
            visibility: hidden;
        }
        .eln-splash-inner {
            position: relative;
        }
        .eln-splash-pulse {
            position: absolute;
            inset: -40px;
            border-radius: 999px;
            background:
                radial-gradient(circle, rgba(255,122,0,0.4), transparent 60%);
            filter: blur(18px);
            opacity: 0.8;
        }
        .eln-splash-logo {
            position: relative;
            width: 160px;
            max-width: 50vw;
            z-index: 1;
        }

        /* –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ */
        .contact-fab {
            position: fixed;
            right: 16px;
            bottom: 18px;
            z-index: 1050;
        }
        .contact-fab-main {
            border: none;
            border-radius: 999px;
            padding: 10px 16px;
            background-image: var(--elnasip-gradient);
            color: #fff;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 18px 45px rgba(0,0,0,0.35);
            cursor: pointer;
        }
        .contact-fab-main span.icon {
            font-size: 18px;
        }
        .contact-fab-menu {
            position: absolute;
            right: 0;
            bottom: 52px;
            padding: 8px;
            border-radius: 16px;
            background: #111827;
            color: #e5e7eb;
            box-shadow: 0 18px 45px rgba(0,0,0,0.35);
            min-width: 190px;
            opacity: 0;
            transform: translateY(6px);
            pointer-events: none;
            transition: opacity .18s ease-out, transform .18s ease-out;
            font-size: 13px;
        }
        .contact-fab-menu.open {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }
        .contact-fab-menu a {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 6px;
            text-decoration: none;
            color: inherit;
            border-radius: 10px;
        }
        .contact-fab-menu a:hover {
            background: rgba(31,41,55,0.85);
        }
        @media (max-width: 576px) {
            .contact-fab-main {
                padding: 9px 14px;
                font-size: 13px;
            }
            .contact-fab-menu {
                min-width: 170px;
            }
        }
</style>
    <style>
        :root {
            --elnasip-orange: #ff7a00;
            --elnasip-yellow: #ffd400;
            --elnasip-gradient: linear-gradient(135deg, #ff7a00, #ffd400);
            --elnasip-dark: #4b4b4b;
        }

        body {
            background: #f5f5f7;
            color: var(--elnasip-dark);
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        .eln-header {
            background: #ffffff;
            border-bottom: 1px solid rgba(0,0,0,0.06);
            box-shadow: 0 8px 24px rgba(0,0,0,0.04);
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .eln-header-bar {
            height: 4px;
            background: var(--elnasip-gradient);
        }

        .eln-logo {
            height: 56px;
        }

        .eln-brand-text {
            font-weight: 700;
            font-size: 18px;
            background: var(--elnasip-gradient);
            -webkit-background-clip: text;
            color: transparent;
            text-transform: uppercase;
            letter-spacing: 0.08em;
        }

        .eln-main {
            padding: 24px 0 48px;
        }

        .eln-btn-primary {
            border: none;
            background-image: var(--elnasip-gradient);
            color: #fff;
            border-radius: 999px;
            padding: 10px 24px;
            font-weight: 600;
            box-shadow: 0 10px 24px rgba(255,122,0,0.35);
        }

        .eln-btn-primary:hover {
            opacity: .9;
            color: #fff;
        }

        .eln-pill {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border-radius: 999px;
            padding: 6px 14px;
            background: rgba(0,0,0,0.04);
            font-size: 13px;
        }

        .eln-footer {
            padding: 16px 0;
            border-top: 1px solid rgba(0,0,0,0.06);
            font-size: 13px;
            color: #777;
            background: #fff;
        }

        .social-link {
            text-decoration: none;
            font-size: 14px;
            color: var(--elnasip-dark);
        }

        .social-link span {
            font-weight: 600;
        }

        .social-link:hover {
            color: #ff7a00;
        }

        /* NAV */
        .eln-nav {
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .eln-nav a {
            text-decoration: none;
            color: #555;
            position: relative;
            padding-bottom: 3px;
        }

        .eln-nav a:hover {
            color: #ff7a00;
        }

        .eln-nav a::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 2px;
            background: var(--elnasip-gradient);
            transition: width 0.18s ease-out;
        }

        .eln-nav a:hover::after {
            width: 100%;
        }

        .eln-burger {
            border: none;
            background: transparent;
            width: 40px;
            height: 40px;
            border-radius: 999px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .eln-burger-box {
            width: 20px;
            height: 14px;
            position: relative;
        }

        .eln-burger-line {
            position: absolute;
            left: 0;
            right: 0;
            height: 2px;
            border-radius: 999px;
            background: var(--elnasip-dark);
            transition: transform .2s ease, top .2s ease, opacity .2s ease, background .2s ease;
        }

        .eln-burger-line:nth-child(1) { top: 0; }
        .eln-burger-line:nth-child(2) { top: 6px; }
        .eln-burger-line:nth-child(3) { top: 12px; }

        .eln-burger.is-open .eln-burger-line:nth-child(1) {
            top: 6px;
            transform: rotate(45deg);
        }
        .eln-burger.is-open .eln-burger-line:nth-child(2) {
            opacity: 0;
        }
        .eln-burger.is-open .eln-burger-line:nth-child(3) {
            top: 6px;
            transform: rotate(-45deg);
        }

        .eln-mobile-menu {
            display: none;
            background: #ffffff;
            border-bottom: 1px solid rgba(0,0,0,0.06);
            box-shadow: 0 18px 40px rgba(0,0,0,0.06);
        }

        .eln-mobile-menu.open {
            display: block;
        }

        .eln-mobile-menu-inner {
            padding: 8px 16px 16px;
        }

        .eln-mobile-menu a {
            display: block;
            padding: 10px 4px;
            text-decoration: none;
            color: #333;
            font-size: 15px;
            font-weight: 500;
        }

        .eln-mobile-menu a:hover {
            color: #ff7a00;
        }

        @media (min-width: 992px) {
            .eln-burger {
                display: none;
            }
            .eln-mobile-menu {
                display: none !important;
            }
        }

        @media (max-width: 991.98px) {
            .eln-nav {
                display: none;
            }
        }
    </style>

    {% block extra_css %}{% endblock %}
</head>
<body>
<!-- SPLASH -->
<div class="eln-splash" id="eln-splash" aria-hidden="true">
    <div class="eln-splash-inner text-center">
        <div class="eln-splash-pulse"></div>

        <div class="eln-splash-word">{% trans "–≠–õ –ù–ê–°–ò–ü" %}</div>
        <div class="eln-splash-sub">{% trans "—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è" %}</div>

        <!-- –ø–æ –∂–µ–ª–∞–Ω–∏—é: –º–∞–ª–µ–Ω—å–∫–∏–π –ª–æ–≥–æ—Ç–∏–ø —Å–Ω–∏–∑—É -->
        
    </div>
</div>

<header class="eln-header">
    <div class="eln-header-bar"></div>
    <div class="container py-2 py-md-3">
        <div class="d-flex align-items-center justify-content-between gap-3">
            <div class="d-flex align-items-center gap-3">
                <a href="{% url 'public_site:home' %}" class="d-flex align-items-center gap-3 text-decoration-none">
                    <div class="d-none d-sm-block">
                        <div class="eln-brand-text">{% trans "–≠–ª –ù–∞—Å–∏–ø" %}</div>
                        <div class="text-muted" style="font-size: 13px;">{% trans "—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è" %}</div>
                    </div>
                </a>
            </div>

            <nav class="eln-nav d-none d-lg-flex">
                <a href="{% url 'public_site:home' %}">{% trans "–ì–ª–∞–≤–Ω–∞—è" %}</a>
                <a href="{% url 'public_site:objects' %}">{% trans "–û–±—ä–µ–∫—Ç—ã" %}</a>
                <a href="{% url 'public_site:home' %}#gallery">{% trans "–ì–∞–ª–µ—Ä–µ—è" %}</a>
                <a href="{% url 'public_site:home' %}#installment">{% trans "–†–∞—Å—Å—Ä–æ—á–∫–∞" %}</a>
                <a href="{% url 'public_site:contacts' %}">{% trans "–ö–æ–Ω—Ç–∞–∫—Ç—ã" %}</a>
            </nav>

            <div class="d-flex align-items-center gap-2">
                <div class="text-end d-none d-md-block">
                    <div style="font-size: 12px; text-transform: uppercase; letter-spacing: 0.08em; color:#666;">
                        {% trans "–æ—Ç–¥–µ–ª –ø—Ä–æ–¥–∞–∂" %}
                    </div>
                    <a href="tel:+996558333200"
                       class="fw-semibold"
                       style="text-decoration:none; color:var(--elnasip-dark); font-size: 16px;">
                        +996 558 333 200
                    </a>
                    <div style="font-size: 13px; color:#888;">
                        WhatsApp, Telegram
                    </div>
                </div>
               {% get_current_language as CURRENT_LANG %}
{% get_available_languages as LANGUAGES %}
{% get_language_info_list for LANGUAGES as languages %}

<form action="{% url 'set_language' %}" method="post" class="d-none d-md-block" data-lang-form>
    {% csrf_token %}
    <input type="hidden" name="next" value="">
    <div class="dropdown">
        <button class="btn btn-sm btn-outline-secondary rounded-pill dropdown-toggle"
                type="button" data-bs-toggle="dropdown" aria-expanded="false">
            {% if CURRENT_LANG == "ru" %}RU{% elif CURRENT_LANG == "ky" %}KY{% else %}EN{% endif %}
        </button>
        <ul class="dropdown-menu dropdown-menu-end">
            {% for lang in languages %}
                <li>
                    <button class="dropdown-item {% if lang.code == CURRENT_LANG %}active{% endif %}"
                            type="submit" name="language" value="{{ lang.code }}">
                        {{ lang.name_local }}
                    </button>
                </li>
            {% endfor %}
        </ul>
    </div>
</form>


                <button class="eln-burger d-lg-none" type="button" aria-label="–ú–µ–Ω—é"
                        data-eln-burger>
                    <div class="eln-burger-box">
                        <span class="eln-burger-line"></span>
                        <span class="eln-burger-line"></span>
                        <span class="eln-burger-line"></span>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <div class="eln-mobile-menu" id="eln-mobile-menu">
        <div class="eln-mobile-menu-inner">
            <a href="{% url 'public_site:home' %}">{% trans "–ì–ª–∞–≤–Ω–∞—è" %}</a>
            <a href="{% url 'public_site:objects' %}">{% trans "–û–±—ä–µ–∫—Ç—ã" %}</a>
            <a href="{% url 'public_site:home' %}#gallery">{% trans "–ì–∞–ª–µ—Ä–µ—è" %}</a>
            <a href="{% url 'public_site:home' %}#installment">{% trans "–†–∞—Å—Å—Ä–æ—á–∫–∞ –∏ –∏–ø–æ—Ç–µ–∫–∞" %}</a>
            <a href="{% url 'public_site:contacts' %}">{% trans "–ö–æ–Ω—Ç–∞–∫—Ç—ã" %}</a>
        </div>
        <div class="mt-2">
   <div class="mt-2">
    <div class="text-muted" style="font-size:12px; text-transform:uppercase; letter-spacing:.12em;">
        {% trans "–Ø–∑—ã–∫" %}
    </div>

    <form action="{% url 'set_language' %}" method="post" class="d-flex gap-2 mt-2" data-lang-form>
        {% csrf_token %}
        <input type="hidden" name="next" value="">
        <button class="btn btn-sm btn-outline-secondary rounded-pill" type="submit" name="language" value="ru">RU</button>
        <button class="btn btn-sm btn-outline-secondary rounded-pill" type="submit" name="language" value="ky">KY</button>
        <button class="btn btn-sm btn-outline-secondary rounded-pill" type="submit" name="language" value="en">EN</button>
    </form>
</div>

</div>

    </div>

</header>

<main class="eln-main">
    <div class="container">
        {% block content %}{% endblock %}
    </div>
</main>

<!-- FLOAT CONTACT BUTTON -->
<div class="contact-fab">
    <button type="button" class="contact-fab-main" data-contact-fab aria-label="–ö–æ–Ω—Ç–∞–∫—Ç—ã">
        <span class="icon">üí¨</span>
        <span class="label d-none d-sm-inline">{% trans "–ö–æ–Ω—Ç–∞–∫—Ç—ã" %}</span>
    </button>

    <div class="contact-fab-menu" id="contact-fab-menu">
        <a href="http://wa.me/996558333200" target="_blank" rel="noopener">
            üí¨ <span>WhatsApp</span>
        </a>
        <a href="https://t.me/elnasip" target="_blank" rel="noopener">
            üì≤ <span>Telegram</span>
        </a>
        <a href="https://www.instagram.com/elnasip_stroy?igsh=ZTIybXV1bHVxd3Yy" target="_blank" rel="noopener">
            üì∑ <span>Instagram</span>
        </a>
        <a href="https://www.threads.com/@elnasip_stroy?igshid=NTc4MTIwNjQ2YQ==" target="_blank" rel="noopener">
            üßµ <span>Threads</span>
        </a>
    </div>
</div>

<footer class="eln-footer">
    <div class="container d-flex flex-column flex-md-row justify-content-between gap-2">
        <div>¬© {% now "Y" %} {% trans "–≠–ª –ù–∞—Å–∏–ø. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã." %}</div>
        <div class="d-flex flex-wrap gap-3">
            <a href="https://t.me/elnasip" class="social-link">Telegram</a>
            <a href="https://www.instagram.com/elnasip_stroy?igsh=ZTIybXV1bHVxd3Yy" class="social-link">
                Instagram
            </a>
            <a href="https://www.threads.com/@elnasip_stroy?igshid=NTc4MTIwNjQ2YQ==" class="social-link">
                Threads
            </a>
            <a href="http://wa.me/996558333200" class="social-link">
                <span>WhatsApp</span>
            </a>
        </div>
    </div>
</footer>
<script>
(function () {
    const defaultLang = "ru";
    const langs = ["ru", "ky", "en"];

    function stripLangPrefix(pathname) {
        for (const code of langs) {
            if (code === defaultLang) continue;
            if (pathname === `/${code}`) return "/";
            if (pathname.startsWith(`/${code}/`)) return pathname.slice(code.length + 1);
        }
        return pathname;
    }

    function buildNext(selectedLang) {
        const basePath = stripLangPrefix(window.location.pathname);
        const query = window.location.search || "";
        if (selectedLang === defaultLang) return basePath + query;
        return `/${selectedLang}${basePath}${query}`;
    }

    document.querySelectorAll("form[data-lang-form]").forEach((form) => {
        form.addEventListener("submit", (e) => {
            const submitter = e.submitter; // –∫–Ω–æ–ø–∫–∞, –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ —Ñ–æ—Ä–º—É
            const selected = submitter && submitter.name === "language" ? submitter.value : defaultLang;

            const nextInput = form.querySelector('input[name="next"]');
            if (nextInput) nextInput.value = buildNext(selected);
        });
    });
})();
</script>

<script>
    (function () {
        // Burger menu
        const burger = document.querySelector('[data-eln-burger]');
        const menu = document.getElementById('eln-mobile-menu');

        if (burger && menu) {
            burger.addEventListener('click', function () {
                burger.classList.toggle('is-open');
                menu.classList.toggle('open');
            });

            menu.addEventListener('click', function (e) {
                if (e.target.tagName === 'A') {
                    burger.classList.remove('is-open');
                    menu.classList.remove('open');
                }
            });
        }

        // Splash screen
        const splash = document.getElementById('eln-splash');
        if (splash) {
            window.addEventListener('load', function () {
                // –¥–µ—Ä–∂–∏–º —á—É—Ç—å-—á—É—Ç—å, —á—Ç–æ–±—ã –±—ã–ª–æ –∫–∞–∫ —É Royal/Karagay
                setTimeout(function () {
                    splash.classList.add('hidden');
                    // –º–æ–∂–Ω–æ –≤–æ–æ–±—â–µ —É–±—Ä–∞—Ç—å –∏–∑ DOM –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
                    setTimeout(() => splash.remove(), 500);
                }, 900);
            });
        }

        // Contact FAB
        const fabBtn = document.querySelector('[data-contact-fab]');
        const fabMenu = document.getElementById('contact-fab-menu');

        if (fabBtn && fabMenu) {
            const openMenu = () => fabMenu.classList.add('open');
            const closeMenu = () => fabMenu.classList.remove('open');
            const toggleMenu = () => fabMenu.classList.toggle('open');

            fabBtn.addEventListener('click', function (e) {
                e.stopPropagation();
                toggleMenu();
            });

            // Hover –¥–ª—è desktop (–º—ã—à—å)
            if (window.matchMedia("(pointer: fine)").matches) {
                fabBtn.addEventListener('mouseenter', openMenu);
                fabMenu.addEventListener('mouseleave', closeMenu);
            }

            // –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ
            document.addEventListener('click', function (e) {
                if (!fabMenu.contains(e.target) && e.target !== fabBtn) {
                    closeMenu();
                }
            });

            // –ó–∞–∫—Ä—ã—Ç—å –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É
            fabMenu.addEventListener('click', function (e) {
                if (e.target.closest('a')) closeMenu();
            });

            // Esc
            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape') closeMenu();
            });
        }
    })();
</script>




{% block extra_js %}{% endblock %}
</body>
</html>
